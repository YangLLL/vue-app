webpackJsonp([1],{Mj7t:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("7+uW"),s={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var r=e("VU/8")({name:"App"},s,!1,function(t){e("apnb")},null,null).exports,a=e("/ocq"),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"hello"},[i("h1",[this._v(this._s(this.msg))]),this._v(" "),i("h2",[this._v("Essential Links")]),this._v(" "),i("router-link",{attrs:{to:"/cart"}},[this._v("toCart")])],1)},staticRenderFns:[]};var c=e("VU/8")({name:"Main",data:function(){return{msg:"Main"}}},o,!1,function(t){e("zVRi")},"data-v-3d968105",null).exports,d=e("mvHQ"),u=e.n(d),p=e("Dd8w"),h=e.n(p),l={props:{item:{type:Object}},inject:["addToCart"]},v={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.item.productName)+" - "+t._s(t.item.price)+"元")]),t._v(" "),e("p",{staticClass:"add-to-card",on:{click:function(i){return t.addToCart(t.item)}}},[t._v("加入购物车")])])},staticRenderFns:[]};var f={components:{ProductItem:e("VU/8")(l,v,!1,function(t){e("nP6j")},"data-v-495afaee",null).exports},props:{productList:{type:Array}}},m={render:function(){var t=this.$createElement,i=this._self._c||t;return this.productList.length?i("ul",{staticClass:"product-list"},this._l(this.productList,function(t){return i("li",{key:t.id},[i("ProductItem",{attrs:{item:t}})],1)}),0):this._e()},staticRenderFns:[]};var _=e("VU/8")(f,m,!1,function(t){e("smYM")},"data-v-4aace4b6",null).exports,y={props:{item:{type:Object}},inject:["addQuantity","reduceQuantity"]},L={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.item.productName)+" （数量"+t._s(t.item.quantity)+"）")]),t._v(" "),e("p",[e("span",{staticClass:"add-to-card",on:{click:function(i){return t.addQuantity(t.item)}}},[t._v("增加")]),t._v(" "),e("span",{staticClass:"add-to-card",on:{click:function(i){return t.reduceQuantity(t.item)}}},[t._v("减少")])])])},staticRenderFns:[]};var C={components:{ChoosedItem:e("VU/8")(y,L,!1,function(t){e("Mj7t")},"data-v-7ed3cd10",null).exports},props:{choosedList:{type:Array}}},q={render:function(){var t=this.$createElement,i=this._self._c||t;return this.choosedList.length?i("ul",this._l(this.choosedList,function(t){return i("li",{key:t.id},[i("ChoosedItem",{attrs:{item:t}})],1)}),0):this._e()},staticRenderFns:[]};var Q={components:{ProductList:_,ChoosedList:e("VU/8")(C,q,!1,function(t){e("ViJe")},"data-v-45d013c6",null).exports},data:function(){return{productList:[{id:1,productName:"商品1",price:10},{id:2,productName:"商品2",price:15},{id:3,productName:"商品3",price:20}],choosedList:[{id:1,productName:"商品1",price:10,quantity:1}]}},provide:function(){return{addToCart:this.addToCart,addQuantity:this.addQuantity,reduceQuantity:this.reduceQuantity}},computed:{getTotalPrice:function(){var t=0;return this.choosedList.forEach(function(i){t+=i.price*i.quantity}),t}},methods:{addToCart:function(t){var i=this.choosedList.findIndex(function(i){return i.id===t.id});if(-1!==i)this.choosedList[i].quantity=this.choosedList[i].quantity+1;else{var e=h()({},t,{quantity:1});this.choosedList.unshift(e)}},addQuantity:function(t){var i=this.choosedList.map(function(i){return i.id===t.id?h()({},i,{quantity:t.quantity+1}):i});this.choosedList=i},reduceQuantity:function(t){var i=JSON.parse(u()(this.choosedList)),e=this.choosedList.findIndex(function(i){return i.id===t.id});t.quantity<=1?i.splice(e,1):i[e]=h()({},t,{quantity:t.quantity-1}),this.choosedList=i}}},V={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("p",{staticClass:"title"},[t._v("购物车")]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"main"},[e("ProductList",{attrs:{productList:t.productList}}),t._v(" "),e("ChoosedList",{attrs:{choosedList:t.choosedList}}),t._v(" "),e("p",[t._v("总价："+t._s(t.getTotalPrice)+" 元")])],1)])},staticRenderFns:[]};var g=e("VU/8")(Q,V,!1,function(t){e("gyi4")},null,null).exports;n.a.use(a.a);var j=new a.a({routes:[{path:"/",name:"Main",component:c},{path:"/cart",name:"ShoppingCard",component:g}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:j,components:{App:r},template:"<App/>"})},ViJe:function(t,i){},apnb:function(t,i){},gyi4:function(t,i){},nP6j:function(t,i){},smYM:function(t,i){},zVRi:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.d39b2f3dcbf0a1eb87c5.js.map